<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NHÀ THUÊ CẦN THƠ</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Inter from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <meta name="description" content="Website đăng tin thuê nhà Cần Thơ, dễ sử dụng, cập nhật liên tục.">
    <meta property="og:title" content="NHÀ THUÊ CẦN THƠ" />
    <meta property="og:description" content="Website đăng tin thuê nhà Cần Thơ, dễ sử dụng, cập nhật liên tục." />
    <meta property="og:image" content="https://nhathuecantho.vercel.app/thumbnail.jpg" />
    <link rel="icon" type="image/png" href="/favicon.png"/>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px;}
        ::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px;}
        ::-webkit-scrollbar-thumb { background: #888; border-radius: 10px;}
        ::-webkit-scrollbar-thumb:hover { background: #555;}
        /* Modal */
        .modal { display: flex; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.4); align-items: center; justify-content: center; opacity: 0; pointer-events: none; transition: opacity 0.3s;}
        .modal.active { opacity: 1; pointer-events: auto;}
        .modal-content { background-color: #fefefe; margin: auto; padding: 20px; border: 1px solid #ddd; width: 90%; max-width: 500px; border-radius: 12px; position: relative; max-height: 90vh; overflow-y: auto; transform: scale(0.95); transition: transform 0.3s, opacity 0.3s; box-shadow: 0 10px 25px rgba(0,0,0,0.15);}
        .modal.active .modal-content { transform: scale(1);}
        .close-button { color: #aaa; float: right; font-size: 28px; font-weight: bold;}
        .close-button:hover,.close-button:focus { color: black; text-decoration: none; cursor: pointer;}
        .page-content { display: none;}
        .page-content.active { display: block;}
        /* Skeleton loading */
        .skeleton { animation: pulse 1.2s cubic-bezier(.4,0,.6,1) infinite; background: linear-gradient(90deg, #e5e7eb 25%, #f3f4f6 50%, #e5e7eb 75%);}
        @keyframes pulse {0%{opacity:1}50%{opacity:.5}100%{opacity:1}}
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <!-- Header -->
    <header class="bg-white shadow-lg border-b border-gray-200">
        <div class="bg-gray-100 py-2 px-4 text-sm text-gray-600 border-b border-gray-200">
            <div class="container mx-auto flex flex-col md:flex-row justify-end md:items-center space-y-1 md:space-y-0 md:space-x-4">
                <ul id="admin-nav-links" class="flex flex-row justify-center space-x-4 md:space-x-8 text-center md:text-left hidden">
                    <li><a href="#" id="nav-home" class="block text-gray-700 hover:text-blue-600 font-medium text-base md:text-lg">Trang Chủ</a></li>
                    <li><a href="#" id="nav-post-new" class="block text-gray-700 hover:text-blue-600 font-medium text-base md:text-lg">Đăng tin</a></li>
                </ul>
            </div>
        </div>
        <div class="container mx-auto py-2 md:py-4 px-4 flex flex-col md:flex-row md:justify-between md:items-center">
            <div class="flex-shrink-0 mb-4 md:mb-0">
                <h1 class="text-2xl md:text-3xl font-extrabold text-blue-700 text-center md:text-left">NHÀ THUÊ CẦN THƠ</h1>
            </div>
            <div class="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-4 w-full md:w-auto">
                <div class="relative w-full max-w-full md:max-w-xs">
                    <input type="text" id="header-search-keyword" placeholder="Tìm kiếm nhanh..."
                        class="w-full p-2 pl-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm shadow-sm">
                    <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-base"></i>
                </div>
                <div id="admin-login-section" class="flex items-center space-x-2 hidden bg-gray-50 p-2 rounded-lg border border-gray-200 shadow-sm">
                    <label for="admin-security-code" class="sr-only">Mã bảo mật Admin</label>
                    <input type="password" id="admin-security-code" placeholder="Mã Admin"
                        class="w-24 p-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-xs shadow-sm">
                    <button id="admin-login-button" class="bg-purple-600 text-white text-xs px-2 py-1 rounded-lg font-semibold hover:bg-purple-700">Đăng nhập</button>
                    <button id="admin-logout-button" class="bg-gray-200 text-gray-800 text-xs px-2 py-1 rounded-lg font-semibold hover:bg-gray-300 hidden">Đăng xuất</button>
                </div>
            </div>
        </div>
    </header>
    <!-- Main -->
    <main class="flex-grow container mx-auto p-2 md:p-4 py-8">
        <!-- Home Page Content -->
        <div id="home-page" class="page-content active">
            <!-- Pagination -->
            <section class="bg-white p-4 md:p-6 rounded-xl shadow-xl border border-gray-100 mb-8 flex flex-col items-center">
                <div class="flex flex-wrap justify-center gap-4 md:gap-6" id="pagination-container">
                    <button class="pagination-button px-4 py-2 rounded-lg font-semibold bg-blue-600 text-white hover:bg-blue-700">
                        <span class="main-text">Trang 1</span>
                        <span class="sub-text">Giá dưới 4 triệu</span>
                    </button>
                    <button class="pagination-button px-4 py-2 rounded-lg font-semibold bg-blue-600 text-white hover:bg-blue-700">
                        <span class="main-text">Trang 2</span>
                        <span class="sub-text">Giá 4 triệu - dưới 6 triệu</span>
                    </button>
                    <button class="pagination-button px-4 py-2 rounded-lg font-semibold bg-blue-600 text-white hover:bg-blue-700">
                        <span class="main-text">Trang 3</span>
                        <span class="sub-text">Giá 6 triệu - dưới 8 triệu</span>
                    </button>
                    <button class="pagination-button px-4 py-2 rounded-lg font-semibold bg-blue-600 text-white hover:bg-blue-700">
                        <span class="main-text">Trang 4</span>
                        <span class="sub-text">Giá 8 triệu trở lên</span>
                    </button>
                </div>
            </section>
            <!-- Skeleton Loading -->
            <div id="skeleton-listings" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 mb-4">
                <div class="skeleton h-52 rounded-xl"></div>
                <div class="skeleton h-52 rounded-xl"></div>
                <div class="skeleton h-52 rounded-xl"></div>
                <div class="skeleton h-52 rounded-xl"></div>
            </div>
            <!-- Property Listings -->
            <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6" id="property-listings">
                <p class="text-center text-gray-600 text-lg col-span-full" id="loading-message">Đang tải tin đăng...</p>
            </section>
        </div>
        <!-- Các section khác giữ nguyên -->
    </main>
    <!-- Footer -->
    <footer class="bg-gray-800 text-white p-6 mt-8">
        <div class="container mx-auto text-center">
            <p>&copy; 2025 NHÀ THUÊ CẦN THƠ. Tất cả bản quyền được bảo lưu.</p>
            <p class="mt-2">
                <a href="#" class="hover:text-blue-400">Chính sách bảo mật</a> |
                <a href="#" class="hover:text-blue-400">Điều khoản sử dụng</a>
            </p>
        </div>
    </footer>
    <!-- Script đặt cuối body để tăng tốc độ hiển thị giao diện -->
    <script type="module">
        // ... (giữ lại toàn bộ mã JS gốc của bạn, chỉ sửa filterAndRenderProperties như bên dưới)

        // Ví dụ hàm filterAndRenderProperties ĐÃ SỬA:
        function filterAndRenderProperties() {
            let filteredProperties = [...allProperties]; // Áp dụng filter như cũ
            // ... filter theo keyword, price, v.v ...
            const listingsContainer = document.getElementById('property-listings');
            const loadingMessage = document.getElementById('loading-message');
            const skeleton = document.getElementById('skeleton-listings');

            if (!allProperties.length) {
                // Đang tải
                if (loadingMessage) loadingMessage.classList.remove('hidden');
                if (skeleton) skeleton.style.display = 'grid';
                listingsContainer.innerHTML = '';
                return;
            } else {
                if (loadingMessage) loadingMessage.classList.add('hidden');
                if (skeleton) skeleton.style.display = 'none';
            }

            if (filteredProperties.length === 0) {
                listingsContainer.innerHTML = `<p class="text-center text-gray-600 text-lg col-span-full">KHÔNG CÓ SẢN PHẨM PHÙ HỢP</p>`;
                return;
            }

            // ... render sản phẩm như cũ ...
        }
        // ... Các đoạn JS khác giữ nguyên ...
    </script>
</body>
</html>
